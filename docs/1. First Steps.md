Hello, we're about to give our first steps into this world, let's gooooo
## Configuration Guide

We're using:
- Docker
- Gazebo
- Ros Noetic
- PX4-Autopilot

But you don't need to worry that much

	I'm trying to let everything as much dockerizable as I can

So, the first steps are based uppon having docker installed on your computer, cloning this repo, and running a few simple commands.

1. Docker installation:
Please visit this link: [Get Docker](https://docs.docker.com/get-docker/)

2. Clonning this repo:

``` bash
git clone https://github.com/ooiuri/px4-control.git
```

3. Running:
Basically, we have now everything that we need. Our workflow will consist on creating a container with it's necessary configuration, running the container and persist files.

To enable docker ability to create graphical interface you should enter this command on your terminal:
```bash
xhost +x 
```

Docker works with images, we are going to load the official PX4 ros-noetic image with the following command:

``` bash
docker run -it --privileged \
--env=LOCAL_USER_ID="$(id -u)" \
-v ~/src/PX4-Autopilot:/src/PX4-Autopilot/:rw \
-v /tmp/.X11-unix:/tmp/.X11-unix:ro \
-e DISPLAY=:0 \
--network host \
--name=px4-ros px4io/px4-dev-ros-noetic bash
```

Don't worry, let's strip down this command:
- `docker run`: run container command
- `-it --privileged`: tells to run the container in interactive mode with privileged permissions
- `--env=LOCAL_USER_ID="$(id -u)"` : tells the container to user your user_id inside container
- `-v ~/src/PX4-Autopilot:/src/PX4-Autopilot/:rw` : maps your PX4-Autopilot folder to containers PX4 folder so that you can persist your modifications
- `-v /tmp/.X11-unix:/tmp/.X11-unix:ro`: maps the unix socket to outside
- `--network host`: use your network inside container so you don't need to map any port
- `--name=px4-ros` : labels the container with the name
- `px4io/px4-dev-ros-noetic`: image name
- `bash`: entrypoint command to open bash terminal

When you create the container you can just simply start it over when i'ts not running with
```shell
docker start px4-ros
```

And to execute commands at container terminal:
``` shell
docker exec -it px4-ros bash
```

A safer version of this command would be:
```shell
docker exec -it -u $(id -u) px4-ros bash
```
